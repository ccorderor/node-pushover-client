#!/usr/bin/env node

/*!
 * @see https://github.com/dvdln/node-pushover-client
 * @see https://pushover.net/api
 * @author David Lane <dvdln@live.com>
 * @copyright David Lane 2013
 * @license MIT
 */

'use strict';

var Pushover = require('../lib/pushover'),
    program = require('commander');

program
  .version(Pushover.version)
  .usage('[options] [title] message')
  .option('-t, --token [id]', 'application token', String)
  .option('-u, --user [id]', 'user token', String)
  .option('-p, --priority [n]', 'priority (-1 to 2)', parseInt)
  .parse(process.argv);

(new Pushover()).send({
  token:    program.token,
  user:     program.user,
  message:  program.args.pop(),
  title:    program.args.pop(),
  priority: program.priority
});
